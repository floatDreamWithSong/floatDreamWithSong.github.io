<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.17" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.58" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/posts/%E4%B8%93%E4%B8%9A%E8%AF%BE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/DataLinkLayer.html"><meta property="og:site_name" content="DayDreamer的个人博客"><meta property="og:title" content="Data Link Layer (数据链路层)"><meta property="og:description" content="Data Link Layer (数据链路层) Function( 功能) 服务接口 向网络层提供一个服务接口 三种服务： 无确认的无连接服务 错误率低 实时性高 Most LANs 有确认的无连接服务 不可靠，但是每帧都会确认 例如无线局域网，802.11 有确认的面向连接服务 WAN, P2P 建立连接、传输帧、释放 确保每一帧刚好传输一次、帧有序..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Data Link Layer (数据链路层)","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"DayDreamer","url":"https://floatDreamWithSong.github.io"}]}</script><title>Data Link Layer (数据链路层) | DayDreamer的个人博客</title><meta name="description" content="Data Link Layer (数据链路层) Function( 功能) 服务接口 向网络层提供一个服务接口 三种服务： 无确认的无连接服务 错误率低 实时性高 Most LANs 有确认的无连接服务 不可靠，但是每帧都会确认 例如无线局域网，802.11 有确认的面向连接服务 WAN, P2P 建立连接、传输帧、释放 确保每一帧刚好传输一次、帧有序...">
    <link rel="preload" href="/assets/style-DBnTcjli.css" as="style"><link rel="stylesheet" href="/assets/style-DBnTcjli.css">
    <link rel="modulepreload" href="/assets/app-CN9yYl8B.js"><link rel="modulepreload" href="/assets/DataLinkLayer.html-DoV9F3hR.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-CDFnV6OC.js" as="script"><link rel="prefetch" href="/assets/intro.html-D2rEUSek.js" as="script"><link rel="prefetch" href="/assets/了解npm_yarn_pnpm.html-BsYQjwW_.js" as="script"><link rel="prefetch" href="/assets/发布一个npm包.html-BTv8GaJf.js" as="script"><link rel="prefetch" href="/assets/Java后端汇总.html-DKf8VCi8.js" as="script"><link rel="prefetch" href="/assets/Mybatis.html-k9XgqvnV.js" as="script"><link rel="prefetch" href="/assets/SQL速通.html-CIefT2k7.js" as="script"><link rel="prefetch" href="/assets/lombok.html-C8BkJCea.js" as="script"><link rel="prefetch" href="/assets/写一个vue组件库并发布.html-D-ElYtv2.js" as="script"><link rel="prefetch" href="/assets/Spring.html-XuHpsdqE.js" as="script"><link rel="prefetch" href="/assets/404.html-B-Ow2pwp.js" as="script"><link rel="prefetch" href="/assets/index.html-Phjx5XjO.js" as="script"><link rel="prefetch" href="/assets/index.html-BbJbsIIc.js" as="script"><link rel="prefetch" href="/assets/index.html-hAhP7ha4.js" as="script"><link rel="prefetch" href="/assets/index.html-mW6Z5IXQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv9KDd6B.js" as="script"><link rel="prefetch" href="/assets/index.html-BrDhDF7L.js" as="script"><link rel="prefetch" href="/assets/index.html-DUko2SJB.js" as="script"><link rel="prefetch" href="/assets/index.html-DXOQrODN.js" as="script"><link rel="prefetch" href="/assets/index.html-DFNqKrl5.js" as="script"><link rel="prefetch" href="/assets/index.html-DzPRmVBI.js" as="script"><link rel="prefetch" href="/assets/index.html-BcyQcPQw.js" as="script"><link rel="prefetch" href="/assets/index.html-Bgh8E_1o.js" as="script"><link rel="prefetch" href="/assets/index.html-nIqWY83I.js" as="script"><link rel="prefetch" href="/assets/index.html--9JbNfNW.js" as="script"><link rel="prefetch" href="/assets/index.html-Dqbz0x7i.js" as="script"><link rel="prefetch" href="/assets/index.html-CxzFjCwJ.js" as="script"><link rel="prefetch" href="/assets/index.html-Cxzf_Xjg.js" as="script"><link rel="prefetch" href="/assets/index.html-BA-TjQab.js" as="script"><link rel="prefetch" href="/assets/index.html-DryehYFH.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-DWe_HKnp.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/bird.png" alt><!----><span class="vp-site-name hide-in-pad">DayDreamer的个人博客</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="博客主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->博客主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/posts/" aria-label="博客列表"><!---->博客列表<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="推荐文章"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>推荐文章<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">npm</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/npm/%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAnpm%E5%8C%85.html" aria-label="发布一个npm包"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->发布一个npm包<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">vue</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/vue/写一个vue组件库并发布.html" aria-label="发布一个vue组件库到npm仓库"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->发布一个vue组件库到npm仓库<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">后端</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/backend/Java/SQL%E9%80%9F%E9%80%9A.html" aria-label="SQL"><!---->SQL<!----></a></li></ul></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/floatDreamWithSong/floatDreamWithSong.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文章</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Backend</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Npm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Vue</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">专业课</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">计算机网络</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/posts/%E4%B8%93%E4%B8%9A%E8%AF%BE/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/DataLinkLayer.html" aria-label="Data Link Layer (数据链路层)"><!---->Data Link Layer (数据链路层)<!----></a></li></ul></section></li></ul></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Data Link Layer (数据链路层)</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://floatDreamWithSong.github.io" target="_blank" rel="noopener noreferrer">DayDreamer</a></span><span property="author" content="DayDreamer"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 6 分钟</span><meta property="timeRequired" content="PT6M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#function-功能">Function( 功能)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#framing-成帧">Framing (成帧)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#字符计数">字符计数</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#标志字节法">标志字节法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#标志比特法">标志比特法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#物理层违例编码法">物理层违例编码法</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#error-control-错误控制">Error Control (错误控制)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#流量控制">流量控制</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#feedback-based-flow-control-基于反馈的流量控制">feedback-based flow control(基于反馈的流量控制)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#rate-based-flow-control-基于速率的流量控制">rate-based flow control(基于速率的流量控制)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#error-detection-and-correction-检错和纠错">Error Detection and Correction (检错和纠错)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#策略">策略</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#两种错误模型">两种错误模型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#纠错码">纠错码</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="data-link-layer-数据链路层" tabindex="-1"><a class="header-anchor" href="#data-link-layer-数据链路层"><span>Data Link Layer (数据链路层)</span></a></h1><h2 id="function-功能" tabindex="-1"><a class="header-anchor" href="#function-功能"><span>Function( 功能)</span></a></h2><ul><li><strong>服务接口</strong> 向网络层提供一个服务接口 三种服务： <ul><li>无确认的无连接服务 <ul><li>错误率低</li><li>实时性高</li><li>Most LANs</li></ul></li><li>有确认的无连接服务 <ul><li>不可靠，但是每帧都会确认</li><li>例如无线局域网，802.11</li></ul></li><li>有确认的面向连接服务 <ul><li>WAN, P2P</li><li>建立连接、传输帧、释放</li><li>确保每一帧刚好传输一次、帧有序</li></ul></li></ul></li><li><strong>成帧</strong> 将网络层传下来的数据封装成帧 <ul><li>帧头：帧同步、帧长度、帧校验序列</li><li>有效载荷：数据</li><li>帧尾：帧校验序列</li></ul><blockquote><p>数据包和帧的关系：数据包是网络层传下来的，帧是数据链路层传下去的</p></blockquote></li><li><strong>传输错误处理</strong> 比如检错、纠错</li><li><strong>调节数据流量</strong> 比如流量控制，确保发送方不会淹没接收方</li></ul><h2 id="framing-成帧" tabindex="-1"><a class="header-anchor" href="#framing-成帧"><span>Framing (成帧)</span></a></h2><ul><li><strong>字节计数法</strong>：帧头中包含一个计数字段，表示帧中字节数</li><li><strong>标志字节法</strong>：帧头和帧尾包含特殊的字节，用于标识帧的开始和结束</li><li><strong>标志比特法</strong>：帧头和帧尾包含特殊的比特模式，用于标识帧的开始和结束</li><li><strong>物理层违例编码法</strong>：利用物理层编码违例外，标识帧的开始和结束</li></ul><blockquote><p>备注：此处字节=字符</p></blockquote><h3 id="字符计数" tabindex="-1"><a class="header-anchor" href="#字符计数"><span>字符计数</span></a></h3><p>每一帧开头都有一个字符（character），表示这一帧总共有多少字符。</p><blockquote><p><strong>问题</strong></p></blockquote><p>如果发生传输错误，接收方就会失去同步，找不到帧开始的位置，发送方也不知道从哪里开始重传</p><h3 id="标志字节法" tabindex="-1"><a class="header-anchor" href="#标志字节法"><span>标志字节法</span></a></h3><p>每一帧开头和结尾都有一个特殊的字符，称为标志字节（flag byte），表示帧的开始和结束。 如果接收方失去同步，只需要搜索两个标志字符就能找到当前帧的的结束位置、下一帧的开始位置。</p><blockquote><p><strong>问题</strong></p></blockquote><p>如果数据中恰好出现标志字节，就会产生冲突，称为<strong>冲突逃逸字符</strong>（escape character）</p><blockquote><p>解决方案：<strong>字节填充（byte stuffing）</strong></p></blockquote><ul><li>如果数据中恰好出现标志字节，就在它前面加上一个特殊的字符，称为转义字符（escape character）</li><li>接收方的数据链路层在传输给网络层前需要处理转义字符</li><li>如果数据中恰好出现转义字符，就在它前面再加上一个转义字符</li><li>填充方案举例：PPP（Point-to-Point Protocol）</li></ul><blockquote><p>缺点：8比特的字节来区分边界，效率低</p></blockquote><h3 id="标志比特法" tabindex="-1"><a class="header-anchor" href="#标志比特法"><span>标志比特法</span></a></h3><p>每一帧开头和结尾都有一个特殊的比特模式，称为标志比特（flag bit），表示帧的开始和结束。</p><blockquote><p><strong>比特填充</strong></p></blockquote><ul><li>以六个连续的1，即111111作为定界符</li><li>如果数据中恰好出现六个连续的1，当遇到5个连续的1时，在后面插入一个比特0</li><li>接收方的数据链路层在传输给网络层前需要处理比特填充，遇到5个连续的1时，删除后面插入的比特0</li></ul><blockquote><p><strong>相比标志字符法</strong></p><ul><li>传输效率高</li><li>划分级别在比特级别，而不是字符级别</li><li>帧可以包含任意大小单元</li></ul></blockquote><p>现实中的运用例子：USB</p><h3 id="物理层违例编码法" tabindex="-1"><a class="header-anchor" href="#物理层违例编码法"><span>物理层违例编码法</span></a></h3><p>核心思想：选择的定界符不会在数据中出现</p><p>方案：</p><ol><li>4B/5B</li><li>前导码</li></ol><ul><li>存在很长的前导码，可以用作定界符</li><li><strong>例子</strong>： 以太网，802.11</li></ul><ol start="3"><li>曼彻斯特编码</li></ol><ul><li>周期性的跳变，可以用作定界符</li></ul><h2 id="error-control-错误控制" tabindex="-1"><a class="header-anchor" href="#error-control-错误控制"><span>Error Control (错误控制)</span></a></h2><blockquote><p><strong>错误</strong></p><ul><li>差错</li><li>丢失</li><li>乱序</li><li>重复</li></ul></blockquote><blockquote><p><strong>解决方案</strong></p><ul><li><a href="#error-detection-and-correction-%E6%A3%80%E9%94%99%E5%92%8C%E7%BA%A0%E9%94%99">eror detection (检错)</a></li><li>Feedback: 反馈 <ul><li>Positive Acknowledgment (PA)</li><li>Negative Acknowledgment (NA)</li></ul></li><li>Timer：计时器</li><li>Sequence Number：序列号</li></ul></blockquote><h2 id="流量控制" tabindex="-1"><a class="header-anchor" href="#流量控制"><span>流量控制</span></a></h2><h3 id="feedback-based-flow-control-基于反馈的流量控制" tabindex="-1"><a class="header-anchor" href="#feedback-based-flow-control-基于反馈的流量控制"><span>feedback-based flow control(基于反馈的流量控制)</span></a></h3><h3 id="rate-based-flow-control-基于速率的流量控制" tabindex="-1"><a class="header-anchor" href="#rate-based-flow-control-基于速率的流量控制"><span>rate-based flow control(基于速率的流量控制)</span></a></h3><h2 id="error-detection-and-correction-检错和纠错" tabindex="-1"><a class="header-anchor" href="#error-detection-and-correction-检错和纠错"><span>Error Detection and Correction (检错和纠错)</span></a></h2><h3 id="策略" tabindex="-1"><a class="header-anchor" href="#策略"><span>策略</span></a></h3><ol><li>纠错码，使用纠错码的技术叫FEC（Forward Error Correction）</li></ol><ul><li>在发送的数据中包含信息，让接受发推断发生了什么错误 (what)</li><li>适用于容易出错的、有噪声的信道，例如无线链路</li></ul><ol start="2"><li>检错码</li></ol><ul><li>在发送的数据中包含信息，让接受方判断数据是否出错（is）</li><li>适用于不容易出错的，例如光纤</li></ul><h3 id="两种错误模型" tabindex="-1"><a class="header-anchor" href="#两种错误模型"><span>两种错误模型</span></a></h3><ol><li>单比特错误:极端热噪声淹没了信号</li><li>突发性错误（源自物理过程）</li></ol><p><strong>对比</strong>：</p><ul><li>多个单比特，如果错误是独立的，可能覆盖覆盖范围很广，导致多个数据块出错</li><li>突发错误一般集中在一个数据块，但是这比单个比特更难纠正</li></ul><blockquote><p><strong>补充：erase channel(擦除信道):</strong> 接受的模拟信号远离了0，1的预期值，相比于比特翻转，这更容易发现那个bit出错了。</p></blockquote><h3 id="纠错码" tabindex="-1"><a class="header-anchor" href="#纠错码"><span>纠错码</span></a></h3><p>将冗余信息加入数据：m个数据位，r个冗余位，总共有n=m+r个位 码字：数据位和冗余位组成的序列 码率：数据位和码字的比率，m/n</p><ul><li><strong>海明距离</strong>：两个码字之间，对应位置不同字符的个数 <ul><li>例如：0000000000, 0000011111, 1111100000, and 1111111111</li><li>Hamming distance is 5，因为任意字串之间转换都需要改变5个字符</li></ul></li><li><strong>最小海明距离</strong>：两个码字之间，对应位置不同字符的最小个数</li><li>为了检测d个错误，需要d+1的编码方案</li><li>为了纠正d个错误，需要2d+1的编码方案</li></ul><blockquote><p><strong>例子</strong> 0000000000, 0000011111, 1111100000, 1111111111, 距离为5，那么它可以纠正最多2个错误 比如如果是发送了0000011111，接收方收到了0000000111，发生了两个错误，那么接受发还是可以选择最接近的0000011111，从而纠正错误 比如如果是发送了0000000000，接收方收到了0000000111，那么它就不能正确的纠错了</p></blockquote><p>校验位数量如何最少：m+r+1 &lt;= 2^r</p><h4 id="hamming-code-海明码" tabindex="-1"><a class="header-anchor" href="#hamming-code-海明码"><span>Hamming Code（海明码）</span></a></h4><p>海明码能发现多位错误,但只能纠正一位错，若用在纠正传输中出现突发性差错时可以采用下述方法:将连续P个码字排成一个矩阵，每行一个码字。如果发生突发长度≤P的突发错误，那么在P个码字中最多每个码字有一位有差错，正好由海明码能纠正。</p><blockquote><ul><li>确定编码数量： <ul><li>由2^r &gt;= m+r+1，可以确定需要r个校验位</li></ul></li><li>确定每个校验位的位置： <ul><li>从1开始，2的幂次方，即1, 2, 4, 8, 16, 32, 64, 128, ...</li></ul></li><li>拼接校验位和数据位，得到n+r位的码字</li><li>校验位的值： <ul><li>对于第i（i=1,2,3...）个校验位，从当前校验位所在位置开始（校验位初始化值为0），若用一个tmp来表示校验位的值，tmp = 0，将tmp<sup>=码字位，并且每隔2</sup>（i-1）个位置再次异或，得到校验位的值。</li><li>（校验位的值的意义就是判断这些统计的部分里的1的个数是否为奇数（tmp=1）或偶数（tmp=0））</li></ul></li></ul></blockquote><p>接收方收到码字后，用同样的方法计算新的校验位的值，并将重新计算出来的校验位依次，从二进制低位到高位排列</p><blockquote><ul><li>如果二进制数最终代表0，那么就没有错误</li><li>否则，如果出错了一位，那么二进制所代表的数就是码字出错的位置 <ul><li>纠正：将计算出来的出错位置取反，得到正确的码字</li></ul></li></ul></blockquote></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/floatDreamWithSong/floatDreamWithSong.github.io/edit/main/src/posts/专业课/计算机网络/DataLinkLayer.md" aria-label="edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">页脚</div><div class="vp-copyright">Copyright © 2024 DayDreamer </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CN9yYl8B.js" defer></script>
  </body>
</html>
